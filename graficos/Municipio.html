<!DOCTYPE html>
<html lang="en">
  <head>
  	<!--<meta http-equiv="refresh" content="6" />-->
    <meta charset="utf-8">
    
    <title>Municipio</title>

    <meta name="description" content="Source code generated using layoutit.com">
    <meta name="author" content="LayoutIt!">

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">
    
    <script src="../datos/polygons/distritos.js"></script>
    
    <script src="../amcharts/amcharts.js" type="text/javascript"></script>
    <script src="../amcharts/serial.js" type="text/javascript"></script>
    <script src="../amcharts/pie.js" type="text/javascript"></script>

    <script src="../amcharts/themes/dark.js" type="text/javascript"></script>
    <script src="../amcharts/plugins/export/export.js" type="text/javascript"></script>
    
    <link rel="stylesheet" href="../amcharts/plugins/export/export.css"/>
    
    <script type="text/javascript" src="../datos/graficos/pob_municipios.js"></script>

    <!--<script src="https://www.amcharts.com/lib/3/themes/dark.js"></script>-->


    <style>
        body{
            background-color:white;
        }
    #chartdivserial{
        width		: 95%;
        height		: 650px;
        font-size	: 11px;
    }
    
    #chartdivpie{
        width		: 80%;
        height		: 400px;
        font-size	: 11px;
    }

    </style>
  </head>
  <body>
      <div><center><H1>Total Habitantes por Provincia</H1></center></div>
      <div id="chartdivserial"></div>
      
      <div id="chartdivpie"></div>
      
      <script type="text/javascript">
</script>


<script>
//     AmCharts.ready(function(){
//         //chart code 
//         var chart = new AmCharts.AmSerialChart();
//         chart.dataProvider = graf_provincia;
//         chart.categoryField = "provincia";
//         chart.angle = 30;
//         chart.depth3D = 15;
        
//         var graph = new AmCharts.AmGraph();
//         graph.valueField = "Total";
//         graph.type = "column";
//         graph.fillAlphas = 0.8;
//         graph.balloonText = "[[category]]: <b>[[value]]</b>";
//         chart.addGraph(graph);
        
        
//         var categoryAxis = chart.categoryAxis;
//         categoryAxis.autoGridCount  = false;
//         categoryAxis.gridCount = graf_provincia.length;
//         categoryAxis.gridPosition = "start";
//         categoryAxis.labelRotation = 90;
        
        
//         chart.write('chartdivpie');
//   });

    
    
    var datap=exp_distritos.features;
    var dataprov=[];
    
 //   for (var k in datap){
 //   	if (target.hasOwnProperty(k)) {
 //       	console.log("Key is " + k + ", value is" + datap[k]);
	//     }
	// }
    
    datap.forEach(function(d){
    	dataprov.push({
    		"Id":d.properties.Id,
    		"Nombre":d.properties.Nombre
    	});
    	
    });
    
					



//     AmCharts.makeChart("chartdivserial", {
//             "type": "serial",
//             "theme": "none",
//             "dataProvider": graf_municipio,
//             "categoryField": "municipio",
//             "rotate": true,
//             "depth3D":15,
//             "angle":30,
            
//             "categoryAxis": {
//               "gridPosition": "start",
//               "axisColor": "#DADADA",
//               "autoGridCount":true,
//             //   "gridCount":graf_municipio.length
//             },
//             "valueAxes": [{
//               "axisAlpha": 0.2
//             }],
//             "graphs": [{
//               "type": "column",
//               "title": "Total Habitantes Mujeres",
//               "valueField": "Mujer",
//               "lineAlpha": 0,
//               "fillColors": "#ADD981",
//               "fillAlphas": 0.8,
//               "balloonText": "[[title]] en [[category]]:<b>[[value]]</b>"
//             }],
//             "export": {
//                 "enabled": true
//             }
//             }, function( err ) {
// 			    console.log( 'ocurrio un error MunicipioSerial: ', err );
// 			} );
			
			
// 			AmCharts.makeChart("chartdivserial", {
//                 	"type": "serial",
//                      "theme": "none",
//                 	"categoryField": "municipio",
//                 	"rotate": true,
//                 // 	"depth3D":15,
//                 //     "angle":30,
//                 	"startDuration": 1,
//                 	"categoryAxis": {
//                 		"gridPosition": "start",
//                 		"position": "left",
//             	        "autoGridCount":true,
//                         "gridCount":graf_municipio.length
//                 	},
//                 	"trendLines": [],
//                 	"graphs": [
//                 		{
//                 			"balloonText": "Total:[[value]]",
//                 			"fillAlphas": 0.8,
//                 			"id": "AmGraph-1",
//                 			"lineAlpha": 0.2,
//                 			"title": "Total",
//                 			"type": "column",
//                 			"valueField": "Total"
//                 		},
//                 		{
//                 			"balloonText": "Mujeres:[[value]]",
//                 			"fillAlphas": 0.8,
//                 			"id": "AmGraph-2",
//                 			"lineAlpha": 0.2,
//                 			"title": "Mujeres",
//                 			"type": "column",
//                 			"valueField": "Mujer"
//                 		},
//                 		{
//                 			"balloonText": "Hombres:[[value]]",
//                 			"fillAlphas": 0.8,
//                 			"id": "AmGraph-2",
//                 			"lineAlpha": 0.2,
//                 			"title": "Hombres",
//                 			"type": "column",
//                 			"valueField": "Hombre"
//                 		}
//                 	],
//                 	"guides": [],
//                 	"valueAxes": [
//                 		{
//                 			"id": "ValueAxis-1",
//                 			"position": "bottom",
//                 			"axisAlpha": 0
//                 		}
//                 	],
//                 	"allLabels": [],
//                 	"balloon": {},
//                 	"titles": [],
//                 	"dataProvider": graf_municipio,
//                     "export": {
//                     	"enabled": true
//                      }
//                      });
			
			
			
// 	AmCharts.makeChart( "chartdivpie", {
// 	                "type": "pie",
// 	                "theme": "none",
// 	                "dataProvider": graf_municipio,
// 	                "valueField": "Total",
// 	                "titleField": "municipio",
// 	                "balloon":{
// 	                "fixedPosition":true
// 	                },
// 	                "export": {
// 	                    "enabled": true
// 	                }
// 	                }, function( err ) {
// 					    console.log( 'ocurrio un error MunicipioPie: ', err );
// 					} );




AmCharts.makeChart("chartdivserial", {
    "type": "serial",
	"theme": "none",
	"rotate":true,
	 
    "legend": {
        "horizontalGap": 10,
        "maxColumns": 2,
        "position": "bottom",
		"useGraphSettings": true,
		"markerSize": 10
    },
    "dataProvider": graf_municipio,
    "valueAxes": [{
        "stackType": "regular",
        "axisAlpha": 0.3,
        "gridAlpha": 0
    }],
    "graphs": [ {
        "balloonText": "<b>[[title]]</b><br><span style='font-size:14px'>[[category]]: <b>[[value]]</b></span>",
        "fillAlphas": 0.8,
        "labelText": "[[value]]",
        "lineAlpha": 0.3,
        "title": "Hombres",
        "type": "column",
		"color": "#000000",
        "valueField": "Hombre"
    }, {
        "balloonText": "<b>[[title]]</b><br><span style='font-size:14px'>[[category]]: <b>[[value]]</b></span>",
        "fillAlphas": 0.8,
        "labelText": "[[value]]",
        "lineAlpha": 0.3,
        "title": "Mujeres",
        "type": "column",
		"color": "#000000",
        "valueField": "Mujer"
    }],
    "categoryField": "municipio",
    "categoryAxis": {
        "gridPosition": "start",
        "axisAlpha": 0,
        "gridAlpha": 0,
        "position": "left",
        "autoGridCount":false,
        "gridCount":graf_municipio.length
    },
    "export": {
    	"enabled": true
     }

});
</script>
  </body>
</html>